var win,head;function randomNumber(e,t){var n=Math.random()*(t-e)+e;return Math.round(n)}function startFire(){var a=win.width(),o=$("#smoke"),e=a<700?15:80;for(i=0;i<e;i++){var t=randomNumber(0,3e4);setTimeout(function(){var e=(a<700?50:randomNumber(25,75))+"%",t=win.scrollTop()+win.height();if(t<2200){var n=o.clone();n.css({left:e,top:t}).addClass("smoke"+randomNumber(1,3)),$("body").append(n)}},t)}}function checkWinPos(e){0===win.scrollTop()&&e&&head.removeClass("not-at-top").addClass("at-top"),100<win.scrollTop()&&head.removeClass("at-top").addClass("not-at-top")}function contactForm(){$("#contact-form").submit(function(){var t=$(this),e="";return t.find(".info").removeClass("is-error").text(""),""==$.trim(t.find("[name=first]").val())?e="First name is required":""==$.trim(t.find("[name=last]").val())?e="Last name is required":""!=$.trim(t.find("[name=phone]").val())||t.find("[name=email]").val().includes("@")||(e="A valid phone number of email address is required"),""==e?$.post("/php/mailer.php",t.serialize()).done(function(e){"success"==e?(t[0].reset(),t.find(".info").text("Message Sent. We will be in touch. Thank you.")):t.find(".info").addClass("is-error").text("Error encountered. Please call us at 704-996-3439.")}):t.find(".info").addClass("is-error").text(e),!1})}function goToSection(e,t,n){var a="/"==t?0:$(e).offset().top-100;n?$("html, body").stop().animate({scrollTop:a},500):$("html, body").scrollTop(a)}var analytics={sendObject:function(e){dataLayer.push(e)},sendArtist:function(e,t){analytics.sendObject({artistHover:this.getAttribute("data-artist"),songHover:this.getAttribute("data-song")})}},media={videos:{player:function(e,t){var n=!1;new YT.Player(e,{playerVars:{rel:0},videoId:t,events:{onStateChange:function(e){e.data==YT.PlayerState.PLAYING&&(n||(n=!0))}}})},createVideos:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=function(){$("[data-video]").each(function(){var e=$(this);new media.videos.player(e[0].id,e.data("video"))})}}}};$(function(){if(win=$(window),head=$("header"),checkWinPos(),contactForm(),media.videos.createVideos(),-1!==window.location.pathname.indexOf("/sections/")){var e=window.location.pathname;"/"==e[e.length-1]&&(e=e.substring(0,e.length-1)),goToSection($('a[href="'+e+'"]').data("section"),e)}win.scroll(function(){checkWinPos(!0)}),window.onpopstate=function(e){null!=e.state&&null!=e.state.section&&null!=e.state.path&&goToSection(e.state.section,e.state.path)},$("a.jump-link").click(function(e){e.preventDefault();var t=$(this),n=t.data("section"),a=t.attr("href");goToSection(n,a,!0),window.history.pushState({section:n,path:a},null,a)}),$(".band-member").hover(function(){var e=$(this);setTimeout(function(){0<$("#"+e.attr("id")+":hover").length&&(e.find(".band-member-bio").slideDown(),e.find(".band-member-image").addClass("fadeout-image"))},250)},function(){var e=$(this);e.find(".band-member-bio").slideUp(),e.find(".band-member-image").removeClass("fadeout-image")});var t=document.getElementsByClassName("artist-song");function n(){this.isOver=!0,setTimeout(function(){this.isOver&&analytics.sendArtist(this.getAttribute("data-artist"),this.getAttribute("data-song"))}.bind(this),500)}function a(){this.isOver=!1}for(var i=0;i<t.length;i++)t[i].isOver=!1,t[i].addEventListener("mouseenter",n),t[i].addEventListener("mouseleave",a),t[i].addEventListener("touchstart",n),t[i].addEventListener("touchend",a)});